---
layout: default
title: О избыточных библиотеках в составе SDE
---

## О избыточных библиотеках в составе SDE (в рамках работы 0.1 -> 0.2)

Текущий набор библиотек:

* libsde-utils
* libsde-utils-gtk
* libsde-utils-jansson
* libsde-utils-x11

**Цель:** устранить библиотеки-хелперы `libsde-utils-gtk`, `libsde-utils-jansson`, `libsde-utils-x11` как самостоятельные сущности в сборочном процессе. Они слишком мелкие, и своим присутствием лишь усложняют инфраструктуру.

**Решение:**

Использование подмодулей git мне не представляется хорошим решением, так как порождает новые лишние сущности.

Функции из трех указанных библиотек будут оформлены как набор исходных файлов `.h` в пакете `libsde-utils`. Эти файлы устанавливаются в путь, доступный через директиву `#include`. Поставляясь в форме исходного кода, они не создают дополнительных зависмостей на этапе сборке `libsde-utils`.

Приложение, которому нужны функции, просто подключает их при помощи препроцессора.

_Минусы:_

Плагины `waterline` увеличатся в размерах и все будут содержать дублированный код. Ничего страшного в эпоху многогигабайтовых ОЗУ, там этого кода копейки.

